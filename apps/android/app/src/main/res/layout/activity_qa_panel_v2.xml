<?xml version="1.0" encoding="utf-8"?>
<TabHost xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/qa_tab_host"
    android:layout_width="match_parent"
    android:layout_height="match_parent">
    
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical">
        
        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" />
        
        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="match_parent"
            android:layout_height="match_parent">
            
            <!-- Main Tab -->
            <ScrollView
                android:id="@+id/tab_main"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:padding="16dp">
                
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical">
                    
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Status"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:layout_marginBottom="8dp" />
                    
                    <TextView
                        android:id="@+id/status_text"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Loading..."
                        android:fontFamily="monospace"
                        android:textSize="12sp"
                        android:padding="8dp"
                        android:background="@android:color/darker_gray" />
                    
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Configuration"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:layout_marginTop="16dp"
                        android:layout_marginBottom="8dp" />
                    
                    <TextView
                        android:id="@+id/config_text"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="{}"
                        android:fontFamily="monospace"
                        android:textSize="12sp"
                        android:padding="8dp"
                        android:background="@android:color/darker_gray" />
                    
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Feature Flags"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:layout_marginTop="16dp"
                        android:layout_marginBottom="8dp" />
                    
                    <com.google.android.material.chip.ChipGroup
                        android:id="@+id/feature_chips"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content" />
                    
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Quick Actions"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:layout_marginTop="16dp"
                        android:layout_marginBottom="8dp" />
                    
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal">
                        
                        <Button
                            android:id="@+id/btn_notification_settings"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Notif"
                            android:textSize="12sp" />
                        
                        <Button
                            android:id="@+id/btn_call_screening"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Call"
                            android:textSize="12sp" />
                        
                        <Button
                            android:id="@+id/btn_app_info"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Info"
                            android:textSize="12sp" />
                        
                        <Button
                            android:id="@+id/btn_clear_cache"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Clear"
                            android:textSize="12sp" />
                    </LinearLayout>
                    
                    <Button
                        android:id="@+id/btn_refresh_status"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="16dp"
                        android:text="Refresh Status" />
                    
                </LinearLayout>
            </ScrollView>
            
            <!-- Notifications Tab -->
            <ScrollView
                android:id="@+id/tab_notifications"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:padding="16dp">
                
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical">
                    
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Test Notifications"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:layout_marginBottom="8dp" />
                    
                    <Button
                        android:id="@+id/btn_test_notification"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Show Test Notification with Actions" />
                    
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:layout_marginTop="8dp">
                        
                        <Button
                            android:id="@+id/btn_test_sms"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Test SMS" />
                        
                        <Button
                            android:id="@+id/btn_test_whatsapp"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Test WA" />
                        
                        <Button
                            android:id="@+id/btn_test_copy"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Test Copy" />
                    </LinearLayout>
                    
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Template Testing"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:layout_marginTop="16dp"
                        android:layout_marginBottom="8dp" />
                    
                    <com.google.android.material.textfield.TextInputLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="Phone Number">
                        
                        <com.google.android.material.textfield.TextInputEditText
                            android:id="@+id/test_phone_input"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:inputType="phone"
                            android:text="+15551234567" />
                    </com.google.android.material.textfield.TextInputLayout>
                    
                    <Button
                        android:id="@+id/btn_fetch_templates"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:text="Fetch Templates" />
                    
                </LinearLayout>
            </ScrollView>
            
            <!-- Data Tab -->
            <LinearLayout
                android:id="@+id/tab_data"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:orientation="vertical"
                android:padding="16dp">
                
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="vPasses"
                    android:textSize="18sp"
                    android:textStyle="bold" />
                
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal">
                    
                    <Button
                        android:id="@+id/btn_refresh_vpasses"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Refresh" />
                    
                    <Button
                        android:id="@+id/btn_clear_vpasses"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Clear" />
                    
                    <Button
                        android:id="@+id/btn_create_test_vpass"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Add Test" />
                </LinearLayout>
                
                <androidx.recyclerview.widget.RecyclerView
                    android:id="@+id/vpass_recycler"
                    android:layout_width="match_parent"
                    android:layout_height="0dp"
                    android:layout_weight="1"
                    android:layout_marginTop="8dp" />
                
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Telemetry"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:layout_marginTop="16dp" />
                
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal">
                    
                    <Button
                        android:id="@+id/btn_refresh_telemetry"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Refresh" />
                    
                    <Button
                        android:id="@+id/btn_clear_telemetry"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Clear" />
                </LinearLayout>
                
                <androidx.recyclerview.widget.RecyclerView
                    android:id="@+id/telemetry_recycler"
                    android:layout_width="match_parent"
                    android:layout_height="0dp"
                    android:layout_weight="1"
                    android:layout_marginTop="8dp" />
                
            </LinearLayout>
            
            <!-- Templates Tab -->
            <ScrollView
                android:id="@+id/tab_templates"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:padding="16dp">
                
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical">
                    
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Template Generator"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:layout_marginBottom="8dp" />
                    
                    <Spinner
                        android:id="@+id/locale_spinner"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="8dp" />
                    
                    <com.google.android.material.textfield.TextInputLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="Phone Number">
                        
                        <com.google.android.material.textfield.TextInputEditText
                            android:id="@+id/template_phone_input"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:inputType="phone"
                            android:text="+15551234567" />
                    </com.google.android.material.textfield.TextInputLayout>
                    
                    <com.google.android.material.textfield.TextInputLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="User Name"
                        android:layout_marginTop="8dp">
                        
                        <com.google.android.material.textfield.TextInputEditText
                            android:id="@+id/template_name_input"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:text="Test User" />
                    </com.google.android.material.textfield.TextInputLayout>
                    
                    <Button
                        android:id="@+id/btn_generate_template"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:text="Generate Templates" />
                    
                    <Button
                        android:id="@+id/btn_test_rate_limit"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Test Rate Limiting" />
                    
                    <TextView
                        android:id="@+id/template_output"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="16dp"
                        android:padding="8dp"
                        android:background="@android:color/darker_gray"
                        android:fontFamily="monospace"
                        android:textSize="12sp"
                        android:text="Output will appear here..." />
                    
                </LinearLayout>
            </ScrollView>
            
            <!-- Crash Tab -->
            <ScrollView
                android:id="@+id/tab_crash"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:padding="16dp">
                
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical">
                    
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="⚠️ Crash Testing"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:textColor="@android:color/holo_red_dark"
                        android:layout_marginBottom="8dp" />
                    
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="These buttons will crash the app for testing purposes"
                        android:textColor="@android:color/holo_orange_dark"
                        android:layout_marginBottom="16dp" />
                    
                    <Button
                        android:id="@+id/btn_crash_nullpointer"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Force NullPointerException"
                        android:backgroundTint="@android:color/holo_red_light" />
                    
                    <Button
                        android:id="@+id/btn_crash_arrayindex"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:text="Force ArrayIndexOutOfBounds"
                        android:backgroundTint="@android:color/holo_red_light" />
                    
                    <Button
                        android:id="@+id/btn_crash_oom"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:text="Force OutOfMemory"
                        android:backgroundTint="@android:color/holo_red_light" />
                    
                    <Button
                        android:id="@+id/btn_crash_anr"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:text="Force ANR (10s freeze)"
                        android:backgroundTint="@android:color/holo_orange_light" />
                    
                    <Button
                        android:id="@+id/btn_crash_security"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:text="Force SecurityException"
                        android:backgroundTint="@android:color/holo_orange_light" />
                    
                </LinearLayout>
            </ScrollView>
            
        </FrameLayout>
    </LinearLayout>
</TabHost>