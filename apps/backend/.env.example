# verifd Backend Configuration

# Server
NODE_ENV=development
PORT=3000

# Database
DB_DRIVER=sqlite                      # sqlite | mock
DB_PATH=var/db/verifd.sqlite

# Security
HMAC_SECRET=change-this-in-production
JWT_SECRET=change-this-in-production
LOG_SALT=your-custom-salt-here        # Salt for phone number hashing in logs

# CORS Configuration
WEB_VERIFY_DEV_ORIGIN=http://localhost:3001  # Allowed origin for web-verify CORS

# Voice Ping Limits
VOICE_PING_MAX_PER_DAY=3
VOICE_PING_BUSINESS_HOURS_ONLY=true
VOICE_PING_BUSINESS_START=09:00
VOICE_PING_BUSINESS_END=17:00

# vPass Configuration
VPASS_DEFAULT_SCOPE=24h
VPASS_SCOPES=30m,24h,30d

# Rate Limiting
RATE_LIMIT_PER_IP_MAX=5               # Rate limit per IP (requests/minute)
RATE_LIMIT_PER_IP_WINDOW=60000
RATE_LIMIT_PER_PHONE_MAX=10           # Rate limit per phone number (requests/minute)
RATE_LIMIT_PER_PHONE_WINDOW=60000
PASSCHECK_RPM_IP=5                    # Legacy: Rate limit per IP for /pass/check
PASSCHECK_RPM_NUMBER=10               # Legacy: Rate limit per phone for /pass/check

# Channels
CHANNELS=sms,wa,voice
DEFAULT_CHANNEL=sms

# Test Configuration (Optional)
# RUN_DB_E2E=1                        # Enable database integration tests
# USE_SQLJS_FOR_TESTS=1               # Alternative database test enabler